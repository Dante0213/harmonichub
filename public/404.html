
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Redirecting...</title>
  <script>
    // 개선된 리다이렉트 로직
    (function() {
      var segmentCount = 1; // GitHub Pages는 일반적으로 하나의 세그먼트(저장소 이름)를 가짐
      var repoName = 'music-learn-connect';
      
      // 현재 URL에서 l=location.pathname 추출
      var l = window.location.pathname;
      console.log('404 페이지 - 현재 경로:', l);
      
      // 저장소 이름이 경로에 포함되어 있는지 확인
      var isInRepo = l.indexOf('/' + repoName + '/') === 0;
      
      // 리다이렉트 경로 설정
      var redirectPath;
      if (isInRepo) {
        // 이미 저장소 경로에 있으면 그대로 사용
        redirectPath = l;
      } else {
        // 저장소 경로가 없으면 추가
        redirectPath = '/' + repoName + l;
      }
      
      console.log('404 페이지 - 리다이렉트 경로:', redirectPath);
      
      // 리다이렉트 정보 저장
      sessionStorage.setItem('redirect-path', redirectPath);
      
      // 기본 페이지로 리다이렉트
      window.location.href = '/' + repoName + '/';
    })();
  </script>
</head>
<body>
  <h1>페이지 이동 중...</h1>
  <p>자동으로 이동하지 않는 경우, <a href="/music-learn-connect/">여기를 클릭하세요</a>.</p>
</body>
</html>
