
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>music-learn-connect</title>
    <meta name="description" content="Lovable Generated Project" />
    <meta name="author" content="Lovable" />
    <meta property="og:image" content="./og-image.png" />
    <!-- GitHub Pages 배포를 위한 기본 설정 수정 -->
    <base href="/" />
    <script>
      // 경로 디버깅 보강
      console.log('문서 로드 시작');
      console.log('현재 URL:', window.location.href);
      console.log('base URI:', document.baseURI);
      
      // GitHub Pages 배포시 경로 조정
      const isGitHubPages = window.location.hostname.includes('github.io');
      if (isGitHubPages) {
        const basePath = '/music-learn-connect/';
        document.querySelector('base').href = basePath;
        console.log('GitHub Pages 감지: base 경로 설정됨', basePath);
      }
      
      // 리디렉션 처리
      var redirectPath = sessionStorage.getItem('redirect_path');
      if (redirectPath) {
        console.log('리디렉션 경로 발견:', redirectPath);
        sessionStorage.removeItem('redirect_path');
        
        // 해시 설정 (앞의 슬래시 제거)
        if (redirectPath.startsWith('/')) redirectPath = redirectPath.substring(1);
        if (redirectPath && !window.location.hash) {
          window.location.hash = redirectPath;
          console.log('리디렉션 완료:', window.location.href);
        }
      }
    </script>
    <!-- 정적 리소스 로드 디버깅 -->
    <script>
      window.addEventListener('error', function(e) {
        if (e.target && (e.target.tagName === 'LINK' || e.target.tagName === 'SCRIPT' || e.target.tagName === 'IMG')) {
          console.error('리소스 로드 실패:', e.target.src || e.target.href);
        }
      }, true);
    </script>
    <!-- Lovable script tag -->
    <script src="https://cdn.gpteng.co/gptengineer.js" type="module"></script>
  </head>

  <body>
    <div id="root"></div>
    <!-- JavaScript 모듈 로드 방식 수정 -->
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
